{"version":3,"sources":["components/Modal/Modal.module.scss","components/Section/Section.module.scss","components/Button/Button.module.scss","components/Section/Section.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","AppServise.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","App.js","index.js","components/ImageGallery/ImageGallery.module.scss","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Section","children","color","className","s","Container","style","backgroundColor","ImageGalleryItem","srs","alt","onClick","largeImageURL","myRef","ref","Images","loading","src","Button","type","reducer","state","action","image","status","searchName","payload","error","page","Error","ImageGallery","useReducer","React","createRef","dispatch","useEffect","value","url","fetch","then","res","ok","json","Promise","reject","fetchApi","hits","length","current","scrollIntoView","behavior","block","catch","message","Galere","map","img","webformatURL","tags","id","height","width","timeout","Searchbar","onSubmit","useState","setSearchName","SearchForm","e","preventDefault","trim","toast","warn","SearchFormButton","htmlFor","nanoid","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","modalRoot","document","querySelector","Modal","onClose","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","App","showModal","setShowModal","option","setOption","toggleModal","imageSrc","imageAlt","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.199ed64f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__kp_bw\",\"Modal\":\"Modal_Modal__3XvGk\",\"Button\":\"Modal_Button__88w1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Section\":\"Section_Section__3nbcr\",\"Container\":\"Section_Container__2Eh-J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1p4hx\"};","import PropTypes from 'prop-types';\nimport s from './Section.module.scss';\n\nconst Section = ({ children, color }) => {\n  return (\n    <section className={s.Section}>\n      <div className={s.Container} style={{ backgroundColor: `${color}` }}>\n        {children}\n      </div>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  children: PropTypes.node,\n  color: PropTypes.string,\n};\n\nexport default Section;\n","import PropTypes from 'prop-types';\nimport s from './ImageGallery.module.scss';\n\nconst ImageGalleryItem = ({ srs, alt, onClick, largeImageURL, myRef }) => {\n  return (\n    <>\n      {myRef ? (\n        <li\n          ref={myRef}\n          className={s.Images}\n          onClick={() => onClick(largeImageURL, alt)}\n          loading=\"lazy\"\n        >\n          <img className={s.ImageGalleryItem} src={srs} alt={alt} />\n        </li>\n      ) : (\n        <li\n          className={s.Images}\n          onClick={() => onClick(largeImageURL, alt)}\n          loading=\"lazy\"\n        >\n          <img className={s.ImageGalleryItem} src={srs} alt={alt} />\n        </li>\n      )}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  srs: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  myRef: PropTypes.object,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nconst Button = ({ onClick }) => {\n  return (\n    <>\n      <button type=\"button\" className={s.Button} onClick={() => onClick()}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { useReducer, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport fetchApi from 'AppServise';\nimport Button from 'components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.scss';\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'pending':\n      return {\n        ...state,\n        image: [],\n        status: 'pending',\n        searchName: action.payload,\n      };\n    case 'resolved':\n      return {\n        ...state,\n        image: [...state.image, ...action.payload],\n        status: 'resolved',\n      };\n    case 'rejected':\n      return {\n        ...state,\n        error: action.payload,\n        status: 'rejected',\n      };\n    case 'nextPage':\n      return {\n        ...state,\n        page: state.page + 1,\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nconst ImageGallery = ({ searchName, onClick }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    searchName: '',\n    image: [],\n    status: 'idle',\n    error: null,\n    page: 1,\n    myRef: React.createRef(),\n  });\n\n  useEffect(() => {\n    if (!searchName) {\n      return;\n    }\n    if (searchName !== state.searchName)\n      dispatch({ type: 'pending', payload: searchName });\n    fetchApi(searchName, state.page)\n      .then(image => {\n        if (image.hits.length === 0) {\n          return Promise.reject(\n            new Error(`No results were found for your search.`),\n          );\n        }\n        image.hits[0] = { ...image.hits[0], myRef: state.myRef };\n        dispatch({ type: 'resolved', payload: image.hits });\n        scrollInto(state.myRef);\n      })\n      .catch(error => dispatch({ type: 'rejected', payload: error }));\n  }, [searchName, state.myRef, state.page, state.searchName]);\n\n  const nextPage = () => {\n    dispatch({ type: 'nextPage' });\n  };\n\n  function scrollInto(elem) {\n    elem.current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'end',\n    });\n  }\n  return (\n    <>\n      {state.status === 'idle' && <p>Input value</p>}\n      {state.status === 'rejected' && <strong>{state.error.message}</strong>}\n      {state.image.length > 0 && (\n        <ul className={s.Galere}>\n          {state.image.map(img => (\n            <ImageGalleryItem\n              key={img.id}\n              onClick={onClick}\n              srs={img.webformatURL}\n              alt={img.tags}\n              largeImageURL={img.largeImageURL}\n              myRef={img.myRef}\n            />\n          ))}\n        </ul>\n      )}\n      {state.status === 'pending' && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      )}\n      {state.status === 'resolved' && <Button onClick={nextPage} />}\n    </>\n  );\n};\nImageGallery.propTypes = {\n  searchName: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","const BASE = 'https://pixabay.com/api/';\nconst KEY = '23933594-99c5d6abfa76120a4e36d3057';\n\nexport default function fetchApi(value, page) {\n  const url =\n    BASE +\n    `?q=${value}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(url).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Oops, something went wrong.`));\n  });\n}\n","import PropTypes from 'prop-types';\nimport { nanoid } from 'nanoid';\nimport { useState } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.scss';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchName, setSearchName] = useState('');\n\n  const handleNameChange = e => {\n    setSearchName(e.currentTarget.value.toLowerCase());\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchName.trim() === '') {\n      toast.warn('Input value!');\n      return;\n    }\n    onSubmit(searchName);\n    setSearchName('');\n  };\n\n  return (\n    <div className=\"searchbar\">\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <FiSearch />\n        </button>\n        <label htmlFor={nanoid()} className={s.SearchFormButtonLabel}>\n          Search pictures\n        </label>\n        <input\n          id={nanoid()}\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchName}\n          onChange={handleNameChange}\n        />\n      </form>\n    </div>\n  );\n};\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.scss';\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({ src, alt, onClose }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose(null, null);\n    }\n  };\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose(null, null);\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <button type=\"button\" className={s.Button} onClick={onClose}>\n          Close\n        </button>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import { useState } from 'react';\nimport Section from 'components/Section/Section';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport Modal from 'components/Modal/Modal';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst App = () => {\n  const [searchName, setSearchName] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [option, setOption] = useState({});\n\n  const handleFormSubmit = searchName => {\n    setSearchName(searchName);\n  };\n  const toggleModal = (src, alt) => {\n    setShowModal(!showModal);\n    setOption({ imageSrc: src, imageAlt: alt });\n  };\n\n  return (\n    <>\n      <Section color={'#3f51b5'}>\n        <Searchbar onSubmit={handleFormSubmit} />\n      </Section>\n      <Section>\n        <ImageGallery searchName={searchName} onClick={toggleModal} />\n      </Section>\n      {showModal && (\n        <Modal\n          src={option.imageSrc}\n          alt={option.imageAlt}\n          onClose={toggleModal}\n        />\n      )}\n      <ToastContainer autoClose={4000} />\n    </>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport './style/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Galere\":\"ImageGallery_Galere__1xNXl\",\"Images\":\"ImageGallery_Images__21YG7\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__IRnGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__226Lr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Avmn\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__JlGV3\",\"SearchFormInput\":\"Searchbar_SearchFormInput__oTa3i\"};"],"sourceRoot":""}